try {
  var Cite = require('citation-js')
}
catch(err) {}

var country_list = {
    1: 'Antigua and Barbuda',
    2: 'Algeria',
    3: 'Azerbaijan',
    4: 'Albania',
    5: 'Armenia',
    6: 'Angola',
    7: 'American Samoa',
    8: 'Argentina',
    9: 'Australia',
    10: 'Bahrain',
    11: 'Barbados',
    12: 'Bermuda',
    13: 'Bahamas',
    14: 'Bangladesh',
    15: 'Belize',
    16: 'Bosnia and Herzegovina',
    17: 'Bolivia',
    18: 'Burma',
    19: 'Benin',
    20: 'Solomon Islands',
    21: 'Brazil',
    22: 'Bulgaria',
    23: 'Brunei Darussalam',
    24: 'Canada',
    25: 'Cambodia',
    26: 'Sri Lanka',
    27: 'Congo',
    28: 'Democratic Republic of the Congo',
    29: 'Burundi',
    30: 'China',
    31: 'Afghanistan',
    32: 'Bhutan',
    33: 'Chile',
    34: 'Cayman Islands',
    35: 'Cameroon',
    36: 'Chad',
    37: 'Comoros',
    38: 'Colombia',
    39: 'Costa Rica',
    40: 'Central African Republic',
    41: 'Cuba',
    42: 'Cape Verde',
    43: 'Cook Islands',
    44: 'Cyprus',
    45: 'Denmark',
    46: 'Djibouti',
    47: 'Dominica',
    48: 'Dominican Republic',
    49: 'Ecuador',
    50: 'Egypt',
    51: 'Ireland',
    52: 'Equatorial Guinea',
    53: 'Estonia',
    54: 'Eritrea',
    55: 'El Salvador',
    56: 'Ethiopia',
    57: 'Austria',
    58: 'Czech Republic',
    59: 'French Guiana',
    60: 'Finland',
    61: 'Fiji',
    62: 'Falkland Islands (Malvinas)',
    63: 'Micronesia',
    64: 'French Polynesia',
    65: 'France',
    66: 'Gambia',
    67: 'Gabon',
    68: 'Georgia',
    69: 'Ghana',
    70: 'Grenada',
    71: 'Greenland',
    72: 'Germany',
    73: 'Guam',
    74: 'Greece',
    75: 'Guatemala',
    76: 'Guinea',
    77: 'Guyana',
    78: 'Haiti',
    79: 'Honduras',
    80: 'Croatia',
    81: 'Hungary',
    82: 'Iceland',
    83: 'India',
    84: 'Iran',
    85: 'Israel',
    86: 'Italy',
    87: "Cote d'Ivoire",
    88: 'Iraq',
    89: 'Japan',
    90: 'Jamaica',
    91: 'Jordan',
    92: 'Kenya',
    93: 'Kyrgyzstan',
    94: "N. Korea",
    95: 'Kiribati',
    96: 'S. Korea',
    97: 'Kuwait',
    98: 'Kazakhstan',
    99: "Lao",
    100: 'Lebanon',
    101: 'Latvia',
    102: 'Belarus',
    103: 'Lithuania',
    104: 'Liberia',
    105: 'Slovakia',
    106: 'Liechtenstein',
    107: 'Libyan Arab Jamahiriya',
    108: 'Madagascar',
    109: 'Martinique',
    110: 'Mongolia',
    111: 'Montserrat',
    112: 'Macedonia',
    113: 'Mali',
    114: 'Morocco',
    115: 'Mauritius',
    116: 'Mauritania',
    117: 'Malta',
    118: 'Oman',
    119: 'Maldives',
    120: 'Mexico',
    121: 'Malaysia',
    122: 'Mozambique',
    123: 'Malawi',
    124: 'New Caledonia',
    125: 'Niue',
    126: 'Niger',
    127: 'Aruba',
    128: 'Anguilla',
    129: 'Belgium',
    130: 'Hong Kong',
    131: 'Northern Mariana Islands',
    132: 'Faroe Islands',
    133: 'Andorra',
    134: 'Gibraltar',
    135: 'Isle of Man',
    136: 'Luxembourg',
    137: 'Macau',
    138: 'Monaco',
    139: 'Palestine',
    140: 'Montenegro',
    141: 'Mayotte',
    142: 'Åland Islands',
    143: 'Norfolk Island',
    144: 'Cocos (Keeling) Islands',
    145: 'Antarctica',
    146: 'Bouvet Island',
    147: 'French Southern and Antarctic Lands',
    148: 'Heard Island and McDonald Islands',
    149: 'British Indian Ocean Territory',
    150: 'Christmas Island',
    151: 'United States Minor Outlying Islands',
    152: 'Vanuatu',
    153: 'Nigeria',
    154: 'Netherlands',
    155: 'Norway',
    156: 'Nepal',
    157: 'Nauru',
    158: 'Suriname',
    159: 'Nicaragua',
    160: 'New Zealand',
    161: 'Paraguay',
    162: 'Peru',
    163: 'Pakistan',
    164: 'Poland',
    165: 'Panama',
    166: 'Portugal',
    167: 'Papua New Guinea',
    168: 'Guinea-Bissau',
    169: 'Qatar',
    170: 'Reunion',
    171: 'Romania',
    172: 'Republic of Moldova',
    173: 'Philippines',
    174: 'Puerto Rico',
    175: 'Russia',
    176: 'Rwanda',
    177: 'Saudi Arabia',
    178: 'Saint Kitts and Nevis',
    179: 'Seychelles',
    180: 'South Africa',
    181: 'Lesotho',
    182: 'Botswana',
    183: 'Senegal',
    184: 'Slovenia',
    185: 'Sierra Leone',
    186: 'Singapore',
    187: 'Somalia',
    188: 'Spain',
    189: 'Saint Lucia',
    190: 'Sudan',
    191: 'Sweden',
    192: 'Syrian Arab Republic',
    193: 'Switzerland',
    194: 'Trinidad and Tobago',
    195: 'Thailand',
    196: 'Tajikistan',
    197: 'Tokelau',
    198: 'Tonga',
    199: 'Togo',
    200: 'Sao Tome and Principe',
    201: 'Tunisia',
    202: 'Turkey',
    203: 'Tuvalu',
    204: 'Turkmenistan',
    205: 'Tanzania',
    206: 'Uganda',
    207: 'United Kingdom',
    208: 'Ukraine',
    209: 'United States',
    210: 'Burkina Faso',
    211: 'Uruguay',
    212: 'Uzbekistan',
    213: 'Saint Vincent and the Grenadines',
    214: 'Venezuela',
    215: 'British Virgin Islands',
    216: 'Viet Nam',
    217: 'United States Virgin Islands',
    218: 'Namibia',
    219: 'Wallis and Futuna Islands',
    220: 'Samoa',
    221: 'Swaziland',
    222: 'Yemen',
    223: 'Zambia',
    224: 'Zimbabwe',
    225: 'Indonesia',
    226: 'Guadeloupe',
    227: 'Netherlands Antilles',
    228: 'United Arab Emirates',
    229: 'Timor-Leste',
    230: 'Pitcairn Islands',
    231: 'Palau',
    232: 'Marshall Islands',
    233: 'Saint Pierre and Miquelon',
    234: 'Saint Helena',
    235: 'San Marino',
    236: 'Turks and Caicos Islands',
    237: 'Western Sahara',
    238: 'Serbia',
    239: 'Holy See (Vatican City)',
    240: 'Svalbard',
    241: 'Saint Martin',
    242: 'Saint Barthelemy',
    243: 'Guernsey',
    244: 'Jersey',
    245: 'South Georgia South Sandwich Islands',
    246: 'Taiwan'}

var seas_list = {
    '1': 'Baltic Sea',
    '10': 'Laptev Sea',
    '11': 'East Siberian Sea',
    '12': 'Chukchi Sea',
    '13': 'Beaufort Sea',
    '14': 'The Northwestern Passages',
    '14A': 'Baffin Bay',
    '15': 'Davis Strait',
    '15A': 'Labrador Sea',
    '16': 'Hudson Bay',
    '16A': 'Hudson Strait',
    '17': 'Arctic Ocean',
    '17A': 'Lincoln Sea',
    '18': 'Inner Seas off the West Coast of Scotland',
    '19': "Irish Sea and St. George's Channel",
    '1a': 'Gulf of Bothnia',
    '1b': 'Gulf of Finland',
    '1c': 'Gulf of Riga',
    '2': 'Kattegat',
    '20': 'Bristol Channel',
    '21': 'English Channel',
    '21A': 'Celtic Sea',
    '22': 'Bay of Biscay',
    '23': 'North Atlantic',
    '24': 'Gulf of St. Lawrence',
    '25': 'Bay of Fundy',
    '26': 'Gulf of Mexico',
    '27': 'Caribbean Sea',
    '28a': 'Strait of Gibraltar',
    '28A': 'Mediterranean Sea - Western Basin',
    '28b': 'Alboran Sea',
    '28B': 'Mediterranean Sea - Eastern Basin',
    '28c': 'Balearic (Iberian Sea)',
    '28d': 'Ligurian Sea',
    '28e': 'Tyrrhenian Sea',
    '28f': 'Ionian Sea',
    '28g': 'Adriatic Sea',
    '28h': 'Aegean Sea',
    '29': 'Sea of Marmara',
    '3': 'Skagerrak',
    '30': 'Black Sea',
    '31': 'Sea of Azov',
    '32': 'South Atlantic',
    '33': 'Rio de La Plata',
    '34': 'Gulf of Guinea',
    '35': 'Gulf of Suez',
    '36': 'Gulf of Aqaba',
    '37': 'Red Sea',
    '38': 'Gulf of Aden',
    '39': 'Arabian Sea',
    '4': 'North Sea',
    '40': 'Gulf of Oman',
    '41': 'Persian Gulf',
    '42': 'Laccadive Sea',
    '43': 'Bay of Bengal',
    '44': 'Andaman or Burma Sea',
    '45': 'Indian Ocean',
    '45A': 'Mozambique Channel',
    '46A': 'Malacca Strait',
    '46B': 'Singapore Strait',
    '47': 'Gulf of Thailand',
    '48a': 'Sulu Sea',
    '48b': 'Celebes Sea',
    '48c': 'Molukka Sea',
    '48d': 'Gulf of Tomini',
    '48e': 'Halmahera Sea',
    '48f': 'Ceram Sea',
    '48g': 'Banda Sea',
    '48h': 'Arafura Sea',
    '48i': 'Timor Sea',
    '48j': 'Flores Sea',
    '48k': 'Gulf of Boni',
    '48l': 'Bali Sea',
    '48m': 'Makassar Strait',
    '48n': 'Java Sea',
    '48o': 'Savu Sea',
    '49': 'South China Sea',
    '5': 'Greenland Sea',
    '50': 'Eastern China Sea',
    '51': 'Yellow Sea',
    '52': 'Japan Sea',
    '53': 'Seto Naikai or Inland Sea',
    '54': 'Sea of Okhotsk',
    '55': 'Bering Sea',
    '56': 'Philippine Sea',
    '57': 'North Pacific',
    '58': 'Gulf of Alaska',
    '59': 'The Coastal Waters of Southeast Alaska and British Columbia',
    '6': 'Norwegian Sea',
    '60': 'Gulf of California',
    '61': 'South Pacific',
    '62': 'Great Australian Bight',
    '62A': 'Bass Strait',
    '63': 'Tasman Sea',
    '64': 'Coral Sea',
    '65': 'Solomon Sea',
    '66': 'Bismarck Sea',
    '67': 'Southern Ocean',
    '7': 'Barentsz Sea',
    '8': 'White Sea',
    '9': 'Kara Sea'}

var province_list = {
  1: "Jiao-Liao-Ji Belt",
  2: "Tarim Basin",
  3: "North Japan Arc",
  4: "South Japan Arc",
  5: "Kuril Volcanic Arc",
  6: "Kamchatka Volcanic Arc",
  7: "Himalayan Orogen",
  8: "Karakoram Province",
  9: "Qiangtang Terrane",
  10: "Irtysh-Zaisan Fold Belt",
  11: "Yenisei-Sayan Orogen",
  12: "Taimyr Fold Belt",
  13: "Tungus Province",
  14: "Magan Terrane",
  15: "Daldyn Terrane",
  16: "Anabar Shield",
  17: "Markha Terrane",
  18: "Olenek Province",
  19: "Verkhoyansk Fold Belt",
  20: "Baikal Rift",
  21: "Patom Fold Belt",
  22: "Aldan Shield",
  23: "Akitkan Belt",
  24: "Chersky-Poldusky Fold Belt",
  25: "Koryak Fold Belt",
  26: "Sette-Daban Fold Belt",
  27: "Kular-Ayan-Yuryakh Terrane",
  28: "Alazeya Fold Belt",
  29: "Oloy Fold  Belt",
  30: "Bureja-Jziamusy Terrane",
  31: "Badzhal Terrane",
  32: "Sea of Japan",
  33: "Ryukyu-Kyushu Volcanic Arc",
  34: "Izu-Bonin Arc",
  35: "Okinawa Trough",
  36: "Mariana Volcanic Arc",
  37: "Nangrim Block",
  38: "Yinshan Block",
  39: "Longgang Block",
  40: "Yanshan Fold Belt",
  41: "Ordos Block",
  42: "Khondalite Belt",
  43: "Sibumasu Terrane",
  44: "Banda Wedge",
  45: "Indo-Burmese Ranges",
  46: "Adaman Sea",
  47: "Sula Spur",
  48: "Banda Volcanic Arc",
  49: "Southern Japan Accretionary Prism",
  50: "Northern Japan Accretionary Prism",
  51: "Ryukyu-Kyushu Accertionary Prism",
  52: "Fly Platform",
  53: "Papuan Fold and Trust Belt",
  54: "Omolon Terrane",
  55: "In'yali-Debi Fold Belt",
  56: "Sulu Volcanic Arc",
  57: "Mongolo-Okhotsk Belt",
  58: "Okhotsk-Chukotka Volcanic Belt",
  59: "Novosibirsk-Chukhi Fold Belt",
  60: "Lhasa Terrane",
  61: "Kohistan Arc",
  62: "Ladakh Arc",
  63: "South Pamir",
  64: "Yidun Arc",
  65: "Sichuan Basin",
  66: "Dabie Orogen",
  67: "East Cathaysia",
  68: "Jiangnan Orogen",
  69: "Southern Caspian Basin",
  70: "Angara Belt",
  71: "Turan Basin",
  72: "Scythian Platform",
  73: "Caucas Mountains",
  74: "Ural Volcanic Arcs",
  75: "Sea of Okhotsk",
  76: "Debin Terrane",
  77: "Java Wedge",
  78: "Java Volcanic Arc",
  79: "Sumatran Wedge",
  80: "Halahara Volcanic Arc",
  81: "Sangihe Volcanic Arc",
  82: "Luzon Volcanic Arc",
  83: "Sulawesi Volcanic Arc",
  84: "Sulawesi Ophiolite complex",
  85: "Gyeongsang Basin",
  86: "Balkhash-Yili Fold Belt",
  87: "Northern Tian Shan",
  88: "Chatkal-Valerianov Arc",
  89: "Tian Shan Fold Belt",
  90: "Karakum Craton",
  91: "Afghan Tajik Block",
  92: "Gurvansayhan volcanic arc",
  93: "Hangay-Hentey Basin",
  94: "Bayangol Island Arc",
  95: "Haraa Basin",
  96: "Zag Passive Margin",
  97: "Baydrag Craton",
  98: "Tasgaanolom Basin",
  99: "Hovsgul Basin",
  100: "Zavhan Craton",
  101: "Sangelin Metamorphic Belt",
  102: "Dzhida Arc",
  103: "Hamardavaa Metamorphic Belt",
  104: "Zharma-Saur Fold Belt",
  105: "Aktau Microcontinent",
  106: "Zhaman-Sarysu Fold Belt",
  107: "Naryn Sedimentary Basin",
  108: "Ferghana Basin",
  109: "Chu-Yili Microcontinent",
  110: "Erementau-Yili Arc",
  111: "Arkalyk fold and thrust belt",
  112: "Baidaulet-Akbastau Volcanic Arc",
  113: "Boshchekul-Chingiz Volcanic Arc",
  114: "Aktau Microcontinent",
  115: "North Balkhash Basin",
  116: "Kirgiz-Terskey Arc",
  117: "Selety Arc",
  118: "Teniz Basin",
  119: "Chu-Saryu Basin",
  120: "Ishim-Middle Tien Shan Microcontinent",
  121: "Stepnyak-Northern Tien Shan",
  122: "Junggar-Balkhash Wedge",
  123: "Karamai Basin",
  124: "Devonian Continental Arc",
  125: "Angara-Vitim Batholith",
  126: "Yeongnam Massif",
  127: "Su-Lu Belt",
  128: "Gyeonggi Massif",
  129: "Qilian Shan",
  130: "Tourgai-Karatau Basin",
  131: "South Tian Shan",
  132: "Bainaimiao-Ondor Sum Belt",
  133: "Erdaojing subduction complex",
  134: "Henegshan-Baolidao Accretionary Complex",
  135: "Junggar Basin",
  136: "Gorny Altai",
  137: "Tarvagatay Igneous Belt",
  138: "Unknown",
  139: "Miri Zone",
  140: "Sibu Zone",
  141: "Kuching Zone",
  142: "Sabah Zone",
  143: "Lancangjiang Belt",
  144: "Sukhothai Block",
  145: "Indochina Terrane",
  146: "Loei-Petchabun Foldbelt",
  147: "Ailaoshan Terrane",
  148: "Song Da Terrane",
  149: "Truongson Terrane",
  150: "Yangtze Craton",
  151: "Papuan Arc",
  152: "Bismarck Volcanic Arc",
  153: "Western Sumatra",
  154: "Bantam Arc",
  155: "West Cathaysia",
  156: "Gobi-Altai Zone",
  157: "Rudny Altai Terrane",
  158: "Kuznetsk Basin",
  159: "Salair Arc",
  160: "West Siberian Basin",
  161: "Altai-Mongolia Terrane",
  162: "Yenisei Fold Belt",
  163: "Zavhan Basin",
  164: "Lake Zone",
  165: "West Sayan Terrane",
  166: "North Tian Shan",
  167: "Central Pamir",
  168: "North Pamir",
  169: "Songpan-Ganzi Hoh-Xil Terrane",
  170: "Kunlun/South Qilian Fold Belt",
  171: "Palau Arc",
  172: "San Christobal Arc",
  173: "New Hebrides Arc",
  174: "Colville Ridge",
  175: "Kermadec Arc",
  176: "Colville Ridge",
  177: "Mamberamo Thrust Belt",
  178: "Kermadec Arc",
  179: "Tonga Arc",
  180: "Triobrand Arc",
  181: "Bicol Volcanic Arc",
  182: "Kyushu Ridge",
  183: "Yap Arc",
  184: "West Mariana Ridge",
  185: "Woodlark Basin",
  186: "Mariana Trough",
  187: "Adaman Arc",
  188: "Lao Basin",
  189: "Havre Trough",
  190: "Cape Fold Belt",
  191: "Namaqua-Natal Mobile Belt",
  192: "Gariep Belt",
  193: "Choma-Kaloma Block",
  194: "Rehoboth Block",
  195: "Kheis Belt",
  196: "Okwa Terrane",
  197: "Magondi-Gweta Belt",
  198: "Kaapvaal Craton",
  199: "Limpopo Belt",
  200: "Zimbabwe Craton",
  201: "Barue Complex",
  202: "Kaoka Belt",
  203: "Damara Orogenic Belt",
  204: "Kamanjab Inlier",
  205: "Irumide Belt",
  206: "Bangweulu Block",
  207: "Usagaran Belt",
  208: "Mozambique Belt",
  209: "Tanzania Craton",
  210: "South Azania",
  211: "Southern Nubian Shield",
  212: "Nubian Shield",
  213: "Sinai Shield",
  214: "Arabian Shield",
  215: "North Azania",
  216: "Red Sea Rift",
  217: "Ubendian Belt",
  218: "Kibaran Belt",
  219: "Sahara Metacraton",
  220: "Atlas Mountains",
  221: "Eglab Shield",
  222: "Tuareg Shield",
  223: "Leo Rise",
  224: "Mauritanides",
  225: "Anti-Atlas Mountains",
  226: "Central African Orogen",
  227: "Angolan Shield",
  228: "Benin-Nigeria Shield",
  229: "Mali Basin",
  230: "Tindouf Basin",
  231: "Algerian Basin",
  232: "Kasai Craton",
  233: "Uganda Craton",
  234: "Rwenzori Block",
  235: "Gabon Craton",
  236: "West Congo and Kimezian Belts",
  237: "Gabon Belt",
  238: "Ethiopian Rift",
  239: "East African Rift-west",
  240: "East African Rift-east",
  241: "Rockelides",
  242: "Arabian Platform",
  243: "North-central Mobile Belt",
  244: "East Congo Mobile Belt",
  245: "North Uganda Mobile Belt",
  246: "Palmyra Fold Belt",
  247: "Semail Ophilite",
  248: "Zagros Foreland Basin",
  249: "Mait Complex",
  250: "Bekilv Block",
  251: "Antenanarivo Block",
  252: "Itremo Block",
  253: "Bemarivo Belt",
  254: "Antongil Block",
  255: "Zalinel Orogen",
  256: "Murzuq Craton",
  257: "Chad Craton",
  258: "Al Kufrah Craton",
  259: "Israel Accretionary complex",
  260: "Red Sea",
  261: "Kenema-Man Craton",
  262: "Reguibat Rise",
  263: "Seychelle Remnant",
  264: "Albany-Fraser-Wilkes Orogen",
  265: "Vestfold Craton",
  266: "Vostok Province",
  267: "Ross Orogen",
  268: "Antarctandes Forearc",
  269: "Amudsen Fold System",
  270: "Grunehogna",
  271: "Napier Complex",
  272: "Lambert Rift",
  273: "Tanonian Oceanic Arc Terrane",
  274: "Mawson Craton",
  275: "South Polar Basin",
  276: "Ronne Basin",
  277: "Pinjarra Orogen",
  278: "Coats Land",
  279: "Terre Adelie Basin",
  280: "Ross Rift",
  281: "Marie Byrd Land",
  282: "Ruker Rift",
  283: "Rayner Complex",
  284: "Ross Peninsula",
  285: "Sor Røndone",
  286: "Ruker Craton",
  287: "Ellsworth Province",
  288: "West Antarctic Rift",
  289: "Antarctandes",
  290: "East African Orogen",
  291: "Kerguelen Plateau",
  292: "South Shetland Arc",
  293: "Bransfield Strait Basin",
  294: "South Shetland Forearc",
  295: "Arunta Block",
  296: "Canning Basin",
  297: "East Thompson Orogen",
  298: "Darling Orogen",
  299: "Eastern Tasmania",
  300: "Kimberley Craton",
  301: "Mossman Orogen",
  302: "New England Orogen",
  303: "Pilbara Craton",
  304: "Pine Creek Inlier",
  305: "Western Tasmania",
  306: "Sydney-Surat Basin",
  307: "Bass Straight",
  308: "Tennant Creek Inlier",
  309: "West Thompson Orogen",
  310: "Yilgarn Craton",
  311: "Dampier-Manawai Ridge",
  312: "Challenger Plateau",
  313: "Lord Howe Rise",
  314: "New Caledonian Trough",
  315: "West Norfolk Ridge",
  316: "Middleton Basin",
  317: "Monawai Basin",
  318: "Lord Howe Basin",
  319: "New Caledonia",
  320: "Chesterfield Plateau",
  321: "Torlesse Terrane",
  322: "Taupo Volcanic Zone",
  323: "Hikurangi Province",
  324: "Taranaki Province",
  325: "Wagga-Omeo Metamorphic Complex",
  326: "Albany-Fraser Orogen",
  327: "Capricorn Orogen",
  328: "Three Kings Ridge",
  329: "Gawler Craton",
  330: "Macquarie Arc",
  331: "Georgina Basin",
  332: "Hay-Booligal Zone",
  333: "Lachlan Fold Belt",
  334: "Stalwell Zone",
  335: "Darling Basin",
  336: "MacArthur Basin",
  337: "Mount Isa Province",
  338: "Carpentaria Basin",
  339: "Georgetown and Coen Inliers",
  340: "North Delamerian Orogen",
  341: "Delamerian Orogen",
  342: "Muscgrave Ranges",
  343: "North Australian Basin",
  344: "Cape York Belt",
  345: "Taranaki Basin",
  346: "Takaka terrane",
  347: "Buller Terrane",
  348: "Takaka terrane",
  349: "Takaka terrane",
  350: "Campbell Plateau",
  351: "Murihiku Terrane",
  352: "Haast Schist",
  353: "Alps",
  354: "Betic Cordillera",
  355: "Dinarides",
  356: "Karelia Craton",
  357: "Molasse Basin",
  358: "Panonian Basin",
  359: "Cantabrian-Pyrenean Belt",
  360: "Central Finland Arc Complex",
  361: "Uralide Fold Belt",
  362: "Kola Craton",
  363: "Sveconorwegian Belt",
  364: "Central Russian Orogen",
  365: "Ukranian Craton",
  366: "Dneipr-Donets Basin",
  367: "Volgo-Uralia Craton",
  368: "Voronezh Massif",
  369: "Appenine Orogen",
  370: "Aeolian Arc",
  371: "Sardinia-Corsica Block",
  372: "Moesian Platform",
  373: "Kirsehir Massif",
  374: "Anatolide-Tauride Mountains",
  375: "Pontide Mountains",
  376: "Aegean Volcanic Arc",
  377: "Jura Mountains",
  378: "Saxothuringia Belt",
  379: "Armorican Basin",
  380: "Iberian Massif",
  381: "Ossa-Morena Zone",
  382: "Guadilquivir Basin",
  383: "West Austerian Leonese Zone",
  384: "Carpathian Mountains",
  385: "Cycladian Back-arc",
  386: "Middle Aegean Basin",
  387: "Black Sea Depression",
  388: "Svalbard Caldeonides",
  389: "Timan Orogen",
  390: "Teisseyre-Tornquist Zone",
  391: "Amberland",
  392: "Mid-Baltic Belt",
  393: "Bergslagen-Livonia",
  394: "Ljusdal",
  395: "Bothnia microcontinent",
  396: "Central Finland Granitoid Complex",
  397: "Central Russian Orogen",
  398: "Caldeonides",
  399: "Tyrrehenian Basin",
  400: "Adriatic-Apulian Foreland",
  401: "Laurentia Province",
  402: "Rheno-Hercynian Belt",
  403: "Avalonia",
  404: "Moldanubian Belt",
  405: "Outer Aegean Non-volcanic Arc",
  406: "South Portuguese Zone",
  407: "Calabrian Arc",
  408: "Campanian Arc",
  409: "Mount Etna",
  410: "Southern Granulite Terrane",
  411: "Avaralli Fold Belt",
  412: "Singhbhum Craton",
  413: "Bastar Craton",
  414: "Eastern Dharwar Craton",
  415: "Western Dharwar Craton",
  416: "Chuddapah Basin",
  417: "Eastern Ghats Belt",
  418: "Closepet Batholith",
  419: "Godavari Rift",
  420: "Alborz Mountains",
  421: "Sanandaj-Sirjan Zone",
  422: "Makran Accretionary Complex",
  423: "Tabas Block",
  424: "Posht-Badam Block",
  425: "Yazd Block",
  426: "Urumieh-Dokhtar Magmatic Arc",
  427: "Sabzevar Zone",
  428: "Kopeh Dag",
  429: "Central Afgan Ranges",
  430: "Pakistan Fold and Thrust Belt",
  431: "Central Afghan Basin",
  432: "Mahanadi Rift",
  433: "Rajasthan Craton",
  434: "Bundelkhand Craton",
  435: "Shillong Plateau",
  436: "Himalayan Foreland Basin",
  437: "Tripura Foldbelt",
  438: "Bengal Fan",
  439: "Central Indian Tectonic Zone",
  440: "Indus Plain",
  441: "Turan",
  442: "Vijayan Complex",
  443: "Wanni Complex",
  444: "Highland Complex",
  445: "Deccan Traps",
  446: "Deccan Traps",
  447: "Southern Caspian Rift",
  448: "Deccan Traps",
  449: "Deccan Traps",
  450: "Deccan Traps",
  451: "Zagros Orogen",
  452: "East Iran Belt",
  453: "Lut Block",
  454: "Makran-Chagai-Raskoh Arc",
  455: "Cumberland Batholith-Torngat and Narsajuaq Arcs",
  456: "New England Applachians",
  457: "Cascade Arc",
  458: "California Borderland",
  459: "California Coast Ranges",
  460: "California Central Valley",
  461: "Cordillera Front and Thrust",
  462: "Columbia Plateau",
  463: "Colorado Plateau",
  464: "Gulf of California Coast",
  465: "Medicine Hat Terrane",
  466: "Idaho Batholith",
  467: "Intermontane Belt",
  468: "Insular Belt",
  469: "Mid-continent Rift",
  470: "Middle Rocky Mountains",
  471: "Llano Province",
  472: "Trans-Mexican Volcanic Belt",
  473: "Canadian Appalachians",
  474: "Northern Basin and Range",
  475: "Newberry Volcanic Field",
  476: "Northern Rocky Mountains",
  477: "Alaskan North Slope",
  478: "Omineca Belt/Shushwap Complex",
  479: "Pacific Coast Ranges",
  480: "Peninsular Ranges Batholith",
  481: "Rio Grande Rift",
  482: "Southern Appalachians",
  483: "Southern Basin and Range",
  484: "Slave Craton",
  485: "Sierra Madre del Sur",
  486: "Sierra Madre Occidental",
  487: "Sierra Nevada Batholith",
  488: "Sierra Madre Oriental",
  489: "Southern Rocky Mountains",
  490: "Snake River Plain",
  491: "Innuitian Orogen",
  492: "Trans-Hudson Orogen",
  493: "California Transverse Ranges",
  494: "Wopmay Orogen",
  495: "Wyoming Craton",
  496: "Yucatan Peninsula",
  497: "Alaskan Accretionary Complex",
  498: "East Aleutian Arc",
  499: "Southern Central Alaskan Terrane",
  500: "Middle Central Alaskan Terrane",
  501: "Northern Central Alaskan Terrane",
  502: "Ketilidian Mobile Belt",
  503: "North Atlantic Craton",
  504: "Nagssugtoqidian Mobile Belt",
  505: "Caledonian Fold Belt",
  506: "Rinkinian Orogen",
  507: "East Hearne",
  508: "East Rae",
  509: "Unknown Precambrian Province",
  510: "Central American Arc",
  511: "Mayan Highlands",
  512: "Chortis Highlands",
  513: "Mosquito Coast Lowlands",
  514: "Chorotega Volcanic Arc",
  515: "Central American Forearc",
  516: "Choco Block",
  517: "Chortega Backarc",
  518: "Baja Borderland",
  519: "West Aleutian Arc",
  520: "Canadian Coastal Belt",
  521: "La Range Arc",
  522: "Little Belt Arc",
  523: "Hearne Province",
  524: "Rimbey-Talston-Thelon Arc",
  525: "Rae Province",
  526: "Burwell Mobile Belt",
  527: "Makkovik Orogen",
  528: "Foxe Orogen",
  529: "Penokean Orogen",
  530: "Yavapai Terrane",
  531: "Riviere-Arnauld Terrane",
  532: "Nain Province",
  533: "Mazatzal Terrane",
  534: "Meguma Terrane",
  535: "Sabine Terrane",
  536: "Charleston-Carolina Terranes",
  537: "Suwannee Terrane",
  538: "Grenville Orogeny",
  539: "Granite-Rhyolite Province",
  540: "Mesa Central",
  541: "Klamouth Range",
  542: "Bear Province",
  543: "Hudson Bay Terrane",
  544: "North Caribou Terrane",
  545: "Winnipeg River Terrane",
  546: "Western Wabigoon Terrane",
  547: "Marmion Terrane",
  548: "Quetico-Opatica Metasedimentary Belt",
  549: "Minnesota River Valley Terrane",
  550: "Eastern Wabigoon Terrane",
  551: "Ashuanipi Metasedimentary Belt",
  552: "English River-Opinaca Metasedimentary Belt",
  553: "Wawa-Abitibi Terrane",
  554: "Greater Antilles",
  555: "Alaskan Volcanic Arc",
  556: "Andean Plateau",
  557: "Southern Andean Arc",
  558: "Eastern Cordillera",
  559: "North Andean Orogen",
  560: "Parana Flood Basalt",
  561: "Parnaiba Basin",
  562: "Patagonia Platform",
  563: "Borborema Province",
  564: "Mantiqueira Province",
  565: "Tocantins Province",
  566: "Central Andean Arc",
  567: "Chilenia",
  568: "Western Cordillera",
  569: "Columbian Volcanic Arc",
  570: "Oaxaquia Plateau",
  571: "Rio de la Plata Craton",
  572: "Sierras Pampeanas",
  573: "Sao Luis Craton",
  574: "Sao Francisco Craton",
  575: "Cuyana Basin",
  576: "Arequipa Province",
  577: "Columbian Forearc",
  578: "North Central Andes",
  579: "Llanos Basin",
  580: "Bahia Blanca Basin",
  581: "Amazonian Graben",
  582: "Tucavaca Belt",
  583: "Chaco Basin",
  584: "Andean Appendix",
  585: "Northern Precordillera",
  586: "Central Precordillera",
  587: "Southern Precordillera",
  588: "Southern Chilean Wedge",
  589: "Rio Negro-Juruena",
  590: "Rondonia-San Ignacio",
  591: "Ventauri-Tapajos",
  592: "Central Amazonian",
  593: "Dom Feliciano Belt",
  594: "Maroni-Itaciunas",
  595: "Parecis Basin",
  596: "Rio de la Plata Craton",
  597: "Lesser Antilles",
  598: "Lesser Antilles Wedge",
  599: "Aves Ridge",
  600: "Scotia Arc",
  601: "Scotia Sea",
  602: "Scotia Wedge",}

$.fn.dataTable.render.author = function ( num ) {
  return function ( data, type, row ) {
      if (type === 'display' && data) {
        return data.split(',').length > 2 ?
        data.split(',')[0] + ' et al.' :
        data;
      }
      return ""
  }
};




$.fn.dataTable.render.doi = function () {
  return function ( data, type, row ) {
      if (type == "display" && data ) {
        if (data.includes('doi.org')) {
          return `<a href=${data}><i class="fas fa-lg fa-globe"></i></a>`
        } else {
          return `<a href=https://doi.org/${data}><i class="fas fa-lg fa-globe"></i></a>`
        }
      } else {
        return ''
      }
  }
};

$.fn.dataTable.render.iconize_href = function ( icon, href) {
  return function ( data, type, row ) {
      return type === "display" && data && href ?
        '<a href='+href+data+'><i class="'+icon+'"></i></a>' :
        ""
  }
};

$.fn.dataTable.render.from_list = function (list) {
  return function ( data, type, row ) {
      return data ?
        list[data] : null
  }
};


$.fn.dataTable.render.apa = function ( ) {
  return function ( data, type, row ) {
    console.log(data)
    if (typeof Cite !== 'undefined') {
      return Cite(data).format('bibliography', {format: 'html', template: 'apa' })
    } else {
      return data
    }
    };
  };

$.fn.dataTable.render.href = function ( href ) {
  return function ( slug, type, row ) {
      return '<a href='+href+slug+'>'+data+'<i class="fas fa-lg fa-globe"></i></a>'
  }
};

var customColumns = {
  slug: { data: 'slug', 
    render: $.fn.dataTable.render.iconize_href("fas fa-lg fa-binoculars","/thermoglobe/publications/"),
    defaultContent:''},
  site_slug: { 
    render: $.fn.dataTable.render.iconize_href("fas fa-lg fa-binoculars","/thermoglobe/sites/"),
    defaultContent:''},
  doi: { data: 'doi', 
    render: $.fn.dataTable.render.doi(), 
    defaultContent:''},
  author: {data:'author',
    render: $.fn.dataTable.render.author(1),
    defaultContent:''},
  publication: { data: 'bibtex', 
    render: $.fn.dataTable.render.apa(), 
    defaultContent:''},
  country: {
    title:'Country',
    render: $.fn.dataTable.render.from_list(country_list), 
    defaultContent:''},
  sea: {
    title:'Sea/Ocean',
    render: $.fn.dataTable.render.from_list(seas_list), 
    defaultContent:''},
  province: {
    title:'Geological Province',
    render: $.fn.dataTable.render.from_list(province_list), 
    defaultContent:''},
}

function table_from_objects(id, headers, table, options, preDefined) {
  preDefined = {...customColumns,...preDefined};
  let columns = []
  headers.forEach(function(el){
    //either gets the options from preDefined or append the standard options
    columns.push(preDefined[el.toLowerCase()] || {title: el, defaultContent: ""})
    })

  let dataTable = $('#'+id).DataTable( {
      columns:columns,
      data:table,
      ...options,
      });

  return dataTable
}

function table_from_values(table) {
  let options = table.options;
  
  let columns = []
  table.columns.forEach(function(el){
    //either gets the options from preDefined or append the standard options
    columns.push(customColumns[el.toLowerCase()] || {title: el, defaultContent: ""})
    })

  let dataTable = $(table.id).DataTable( {
      columns:columns,
      ...table.options,
      });

  return dataTable
}

function create_table(id, table, options, preDefined) {
    preDefined = {...customColumns,...preDefined};
    var columns = []
    table.columns.forEach(function(el){
        //either gets the options from preDefined or append the standard options
        columns.push(preDefined[el] || {title: el, defaultContent: ""})
        })
    
    
    var dataTable = $("#"+id).DataTable({
      columns:columns,
      ...options,
    })

    dataTable.rows.add(table.data)
    dataTable.draw()


    return dataTable
}

function empty_table(id, options, columns) {
  
  var dataTable = $("#"+id).DataTable({
    columns:columns,
    ...options,
  })

  return dataTable
}

function table_from_bibtex(table, options, preDefined){
    preDefined = {...customColumns,...preDefined};

    var columns = []
    table.columns.forEach(function(el){
      //either gets the options from preDefined or append the standard options
      columns.push(preDefined[el] || {data: el, defaultContent: "", searchable:false})
      })
    columns.push({data: 'bibtex', defaultContent: "", visible: false})

    var dataTable = $("#"+table.id).DataTable({
        columns: columns,
        ajax: {
          url: $(location).attr('href'),
          dataSrc: get_bibtex_from_ajax,
        },
        ...options,
        })

    return table
  }

function get_bibtex_from_ajax(data) {
  var rows = []
  $(data.data).each(function (ind, row) {
    try {rows.push({
        slug: row.slug,
        bibtex: row.bibtex,
        ...flattenObj(Cite(row.bibtex).format('bibtex',{format: 'object'})),
      })}
    catch(err) { console.log(err) }
  })
  return rows
}



// $('tbody tr').hover(function () {
//   var data = site.row( this ).data();
//   console.log(data)
//   var coordinates = new L.LatLng(data.latitude,data.longitude);
//   marker.setLatLng(coordinates);
//   marker.addTo(map)
// });


// $('#tableNav>button').click(function(e) {
//   if ($(this).hasClass('disabled')) {
//     return
//   }
//   var idClicked = e.target.id;
//   var table = $('#dataTable').DataTable();
//   table.destroy();
//   $('#dataTable>thead').empty();
//   $('#dataTable>tbody').remove();
//   table_from_values_list(dataSet[idClicked])
//   $('#dataTable th:contains("Value")').html(titleize(idClicked))
//   }
// )








